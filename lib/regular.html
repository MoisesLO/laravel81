<div >\n    <h1>Contenedor de servicio</h1>\n    <p></p>\n    <h2 ><span class=\"link\">Introducción</span></h2>\n    <p>El contenedor de servicios de Laravel es una herramienta poderosa para administrar las dependencias de clases y realizar la inyección de dependencias. La inyección de dependencia es una frase elegante que esencialmente significa esto: las dependencias de clase se \"inyectan\" en la clase a través del constructor o, en algunos casos, los métodos \"setter\".</p>\n    <p>Veamos un ejemplo simple:</p>\n    <pre class=\" language-php\"><code class=\" language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n\n<span class=\"token keyword\">namespace</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>Http<span class=\"token punctuation\">\\</span>Controllers</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>Http<span class=\"token punctuation\">\\</span>Controllers<span class=\"token punctuation\">\\</span>Controller</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>Repositories<span class=\"token punctuation\">\\</span>UserRepository</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>Models<span class=\"token punctuation\">\\</span>User</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">UserController</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Controller</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/**\n     * The user repository implementation.\n     *\n     * @var UserRepository\n     */</span>\n    <span class=\"token keyword\">protected</span> <span class=\"token variable\">$users</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">/**\n     * Create a new controller instance.\n     *\n     * @param  UserRepository  $users\n     * @return void\n     */</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">__construct</span><span class=\"token punctuation\">(</span>UserRepository <span class=\"token variable\">$users</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\">users</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$users</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">/**\n     * Show the profile for the given user.\n     *\n     * @param  int  $id\n     * @return Response\n     */</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">show</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$id</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token variable\">$user</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\">users</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$id</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">return</span> <span class=\"token function\">view</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'user.profile'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'user'</span> <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token variable\">$user</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></span></code></pre>\n    <p>En este ejemplo, las <code>UserController</code>necesidades de recuperar usuarios de una fuente de datos. Entonces, <strong>inyectaremos</strong> un servicio que pueda recuperar usuarios. En este contexto, lo <code>UserRepository</code>más probable es que utilice <span class=\"link\">Eloquent</span> para recuperar información del usuario de la base de datos. Sin embargo, dado que se inyecta el repositorio, podemos intercambiarlo fácilmente con otra implementación. También podemos \"simular\" fácilmente o crear una implementación ficticia del <code>UserRepository</code>cuando probamos nuestra aplicación.</p>\n    <p>Una comprensión profunda del contenedor de servicios de Laravel es esencial para crear una aplicación grande y poderosa, así como para contribuir al núcleo de Laravel en sí.</p>\n    <p></p>\n    <h3 id=\"zero-configuration-resolution\"><span class=\"link\">Resolución de configuración cero</span></h3>\n    <p>Si una clase no tiene dependencias o solo depende de otras clases concretas (no interfaces), no es necesario que el contenedor reciba instrucciones sobre cómo resolver esa clase. Por ejemplo, puede colocar el siguiente código en su <code>routes/web.php</code>archivo:</p>\n    <pre class=\" language-php\"><code class=\" language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Service</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//</span>\n<span class=\"token punctuation\">}</span>\n\nRoute<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'/'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>Service <span class=\"token variable\">$service</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">die</span><span class=\"token punctuation\">(</span><span class=\"token function\">get_class</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$service</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span></code></pre>\n    <p>En este ejemplo, presionar la <code>/</code>ruta de su aplicación resolverá automáticamente la <code>Service</code>clase y la inyectará en el controlador de su ruta. Esto está cambiando las reglas del juego. Significa que puede desarrollar su aplicación y aprovechar la inyección de dependencias sin preocuparse por archivos de configuración inflados.</p>\n    <p>Afortunadamente, muchas de las clases que escribirás al crear una aplicación Laravel reciben automáticamente sus dependencias a través del contenedor, incluidos <span class=\"link\">controladores</span> , <span class=\"link\">detectores de eventos</span> , <span class=\"link\">middleware</span> y más. Además, puede introducir dependencias de sugerencia en el <code>handle</code>método de <span class=\"link\">trabajos en cola</span> . Una vez que prueba el poder de la inyección automática y sin dependencia de la configuración, se siente imposible de desarrollar sin ella.</p>\n    <p></p>\n    <h3 id=\"when-to-use-the-container\"><span class=\"link\">Cuándo usar el contenedor</span></h3>\n    <p>Gracias a la resolución de configuración cero, a menudo escribirás dependencias de sugerencias en rutas, controladores, detectores de eventos y en otros lugares sin interactuar nunca manualmente con el contenedor. Por ejemplo, puede escribir-insinuar el <code>Illuminate\\Http\\Request</code>objeto en la definición de su ruta para que pueda acceder fácilmente a la solicitud actual. Aunque nunca tenemos que interactuar con el contenedor para escribir este código, está administrando la inyección de estas dependencias detrás de escena:</p>\n    <pre class=\" language-php\"><code class=\" language-php\"><span class=\"token keyword\">use</span> <span class=\"token package\">Illuminate<span class=\"token punctuation\">\\</span>Http<span class=\"token punctuation\">\\</span>Request</span><span class=\"token punctuation\">;</span>\n\nRoute<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'/'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>Request <span class=\"token variable\">$request</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n    <p>En muchos casos, gracias a la inyección automática de dependencias y las <span class=\"link\">fachadas</span> , puede crear aplicaciones de Laravel sin tener <strong>que</strong> vincular o resolver nada manualmente desde el contenedor. <strong>Entonces, ¿cuándo interactuaría manualmente con el contenedor? </strong>Examinemos dos situaciones.</p>\n    <p>Primero, si escribe una clase que implementa una interfaz y desea escribir una sugerencia de esa interfaz en un constructor de ruta o clase, debe <span class=\"link\">decirle al contenedor cómo resolver esa interfaz</span> . En segundo lugar, si está <span class=\"link\">escribiendo un paquete de Laravel</span> que planea compartir con otros desarrolladores de Laravel, es posible que deba vincular los servicios de su paquete al contenedor.</p>\n    <p></p>\n    <h2 id=\"binding\"><span class=\"link\">Vinculante</span></h2>\n    <p></p>\n    <h3 id=\"binding-basics\"><span class=\"link\">Conceptos básicos de encuadernación</span></h3>\n    <p></p>\n    <h4 id=\"simple-bindings\"><span class=\"link\">Encuadernaciones simples</span></h4>\n    <p>Casi todos los enlaces del contenedor de servicios se registrarán en <span class=\"link\">los proveedores de servicios</span> , por lo que la mayoría de estos ejemplos demostrarán el uso del contenedor en ese contexto.</p>\n    <p>Dentro de un proveedor de servicios, siempre tiene acceso al contenedor a través de la <code>$this-&gt;app</code>propiedad. Podemos registrar un enlace usando el <code>bind</code>método, pasando el nombre de la clase o interfaz que deseamos registrar junto con un cierre que devuelve una instancia de la clase:</p>\n    <pre class=\" language-php\"><code class=\" language-php\"><span class=\"token keyword\">use</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>Services<span class=\"token punctuation\">\\</span>Transistor</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>Services<span class=\"token punctuation\">\\</span>PodcastParser</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\">app</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>Transistor<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$app</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Transistor</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$app</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">make</span><span class=\"token punctuation\">(</span>PodcastParser<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n    <p>Tenga en cuenta que recibimos el contenedor en sí como un argumento para el resolutor. Luego podemos usar el contenedor para resolver las subdependencias del objeto que estamos construyendo.</p>\n    <p>Como se mencionó, normalmente interactuará con el contenedor dentro de los proveedores de servicios; sin embargo, si desea interactuar con el contenedor fuera de un proveedor de servicios, puede hacerlo a través de la <code>App</code> <span class=\"link\">fachada</span> :</p>\n    <pre class=\" language-php\"><code class=\" language-php\"><span class=\"token keyword\">use</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>Services<span class=\"token punctuation\">\\</span>Transistor</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token package\">Illuminate<span class=\"token punctuation\">\\</span>Support<span class=\"token punctuation\">\\</span>Facades<span class=\"token punctuation\">\\</span>App</span><span class=\"token punctuation\">;</span>\n\nApp<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>Transistor<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$app</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n    <blockquote>\n        <div class=\"mb-10 max-w-2xl mx-auto px-4 py-8 shadow-lg lg:flex lg:items-center callout\"><div class=\"w-20 h-20 mb-6 flex items-center justify-center flex-shrink-0 bg-purple-600 lg:mb-0\"><img src=\"/img/callouts/lightbulb.min.svg\" class=\"opacity-75\"></div><p class=\"mb-0 lg:ml-6\"><p>No es necesario vincular clases en el contenedor si no dependen de ninguna interfaz. No es necesario que el contenedor reciba instrucciones sobre cómo construir estos objetos, ya que puede resolverlos automáticamente mediante la reflexión.</p></p></div>\n    </blockquote>\n    <p></p>\n    <h4 id=\"binding-a-singleton\"><span class=\"link\">Encuadernación de un singleton</span></h4>\n    <p>El <code>singleton</code>método vincula una clase o interfaz al contenedor que solo debe resolverse una vez. Una vez que se resuelve un enlace de singleton, la misma instancia de objeto se devolverá en llamadas posteriores al contenedor:</p>\n    <pre class=\" language-php\"><code class=\" language-php\"><span class=\"token keyword\">use</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>Services<span class=\"token punctuation\">\\</span>Transistor</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>Services<span class=\"token punctuation\">\\</span>PodcastParser</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\">app</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">singleton</span><span class=\"token punctuation\">(</span>Transistor<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$app</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Transistor</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$app</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">make</span><span class=\"token punctuation\">(</span>PodcastParser<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n    <p></p>\n    <h4 id=\"binding-scoped\"><span class=\"link\">Encuadernación Singletons con alcance</span></h4>\n    <p>El <code>scoped</code>método vincula una clase o interfaz en el contenedor que solo debe resolverse una vez dentro de un ciclo de vida de solicitud / trabajo de Laravel determinado. Si bien este método es similar al <code>singleton</code>método, las instancias registradas con el <code>scoped</code>método se eliminarán cada vez que la aplicación Laravel comience un nuevo \"ciclo de vida\", como cuando un trabajador de <span class=\"link\">Laravel Octane</span> procesa una nueva solicitud o cuando un <span class=\"link\">trabajador de cola de</span> Laravel procesa un nuevo trabajo:</p>\n    <pre class=\" language-php\"><code class=\" language-php\"><span class=\"token keyword\">use</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>Services<span class=\"token punctuation\">\\</span>Transistor</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>Services<span class=\"token punctuation\">\\</span>PodcastParser</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\">app</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">scoped</span><span class=\"token punctuation\">(</span>Transistor<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$app</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Transistor</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$app</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">make</span><span class=\"token punctuation\">(</span>PodcastParser<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n    <p></p>\n    <h4 id=\"binding-instances\"><span class=\"link\">Instancias vinculantes</span></h4>\n    <p>También puede vincular una instancia de objeto existente en el contenedor utilizando el <code>instance</code>método. La instancia dada siempre se devolverá en llamadas posteriores al contenedor:</p>\n    <pre class=\" language-php\"><code class=\" language-php\"><span class=\"token keyword\">use</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>Services<span class=\"token punctuation\">\\</span>Transistor</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>Services<span class=\"token punctuation\">\\</span>PodcastParser</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$service</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Transistor</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">PodcastParser</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\">app</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">instance</span><span class=\"token punctuation\">(</span>Transistor<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$service</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n    <p></p>\n    <h3 id=\"binding-interfaces-to-implementations\"><span class=\"link\">Vinculación de interfaces a implementaciones</span></h3>\n    <p>Una característica muy poderosa del contenedor de servicios es su capacidad para vincular una interfaz a una implementación determinada. Por ejemplo, supongamos que tenemos una <code>EventPusher</code>interfaz y una <code>RedisEventPusher</code>implementación. Una vez que hemos codificado nuestra <code>RedisEventPusher</code>implementación de esta interfaz, podemos registrarla con el contenedor de servicios así:</p>\n    <pre class=\" language-php\"><code class=\" language-php\"><span class=\"token keyword\">use</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>Contracts<span class=\"token punctuation\">\\</span>EventPusher</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>Services<span class=\"token punctuation\">\\</span>RedisEventPusher</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\">app</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>EventPusher<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> RedisEventPusher<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n    <p>Esta declaración le dice al contenedor que debe inyectar el <code>RedisEventPusher</code>cuando una clase necesita una implementación de <code>EventPusher</code>. Ahora podemos teclear la <code>EventPusher</code>interfaz en el constructor de una clase que es resuelta por el contenedor. Recuerde, los controladores, detectores de eventos, middleware y varios otros tipos de clases dentro de las aplicaciones de Laravel siempre se resuelven usando el contenedor:</p>\n    <pre class=\" language-php\"><code class=\" language-php\"><span class=\"token keyword\">use</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>Contracts<span class=\"token punctuation\">\\</span>EventPusher</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/**\n * Create a new class instance.\n *\n * @param  \\App\\Contracts\\EventPusher  $pusher\n * @return void\n */</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">__construct</span><span class=\"token punctuation\">(</span>EventPusher <span class=\"token variable\">$pusher</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\">pusher</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$pusher</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n    <p></p>\n    <h3 id=\"contextual-binding\"><span class=\"link\">Vinculación contextual</span></h3>\n    <p>A veces, puede tener dos clases que utilizan la misma interfaz, pero desea inyectar diferentes implementaciones en cada clase. Por ejemplo, dos controladores pueden depender de diferentes implementaciones del <code>Illuminate\\Contracts\\Filesystem\\Filesystem</code> <span class=\"link\">contrato</span> . Laravel proporciona una interfaz sencilla y fluida para definir este comportamiento:</p>\n    <pre class=\" language-php\"><code class=\" language-php\"><span class=\"token keyword\">use</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>Http<span class=\"token punctuation\">\\</span>Controllers<span class=\"token punctuation\">\\</span>PhotoController</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>Http<span class=\"token punctuation\">\\</span>Controllers<span class=\"token punctuation\">\\</span>UploadController</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>Http<span class=\"token punctuation\">\\</span>Controllers<span class=\"token punctuation\">\\</span>VideoController</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token package\">Illuminate<span class=\"token punctuation\">\\</span>Contracts<span class=\"token punctuation\">\\</span>Filesystem<span class=\"token punctuation\">\\</span>Filesystem</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token package\">Illuminate<span class=\"token punctuation\">\\</span>Support<span class=\"token punctuation\">\\</span>Facades<span class=\"token punctuation\">\\</span>Storage</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\">app</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">when</span><span class=\"token punctuation\">(</span>PhotoController<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n          <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">needs</span><span class=\"token punctuation\">(</span>Filesystem<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n          <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">give</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n              <span class=\"token keyword\">return</span> Storage<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">disk</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'local'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\">app</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">when</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>VideoController<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> UploadController<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n          <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">needs</span><span class=\"token punctuation\">(</span>Filesystem<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n          <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">give</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n              <span class=\"token keyword\">return</span> Storage<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">disk</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'s3'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n    <p></p>\n    <h3 id=\"binding-primitives\"><span class=\"link\">Primitivas vinculantes</span></h3>\n    <p>A veces, puede tener una clase que recibe algunas clases inyectadas, pero también necesita un valor primitivo inyectado, como un número entero. Puede usar fácilmente el enlace contextual para inyectar cualquier valor que su clase pueda necesitar:</p>\n    <pre class=\" language-php\"><code class=\" language-php\"><span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\">app</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">when</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'App\\Http\\Controllers\\UserController'</span><span class=\"token punctuation\">)</span>\n          <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">needs</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'$variableName'</span><span class=\"token punctuation\">)</span>\n          <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">give</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$value</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n    <p>A veces, una clase puede depender de una serie de instancias <span class=\"link\">etiquetadas</span> . Con el <code>giveTagged</code>método, puede inyectar fácilmente todos los enlaces de contenedor con esa etiqueta:</p>\n    <pre class=\" language-php\"><code class=\" language-php\"><span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\">app</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">when</span><span class=\"token punctuation\">(</span>ReportAggregator<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n    <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">needs</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'$reports'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">giveTagged</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'reports'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n    <p>Si necesita inyectar un valor de uno de los archivos de configuración de su aplicación, puede usar el <code>giveConfig</code>método:</p>\n    <pre class=\" language-php\"><code class=\" language-php\"><span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\">app</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">when</span><span class=\"token punctuation\">(</span>ReportAggregator<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n    <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">needs</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'$timezone'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">giveConfig</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'app.timezone'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n    <p></p>\n    <h3 id=\"binding-typed-variadics\"><span class=\"link\">Vinculación de variantes con tipo</span></h3>\n    <p>Ocasionalmente, puede tener una clase que recibe una matriz de objetos con tipo usando un argumento de constructor variadic:</p>\n    <pre class=\" language-php\"><code class=\" language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>Models<span class=\"token punctuation\">\\</span>Filter</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>Services<span class=\"token punctuation\">\\</span>Logger</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Firewall</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/**\n     * The logger instance.\n     *\n     * @var \\App\\Services\\Logger\n     */</span>\n    <span class=\"token keyword\">protected</span> <span class=\"token variable\">$logger</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">/**\n     * The filter instances.\n     *\n     * @var array\n     */</span>\n    <span class=\"token keyword\">protected</span> <span class=\"token variable\">$filters</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">/**\n     * Create a new class instance.\n     *\n     * @param  \\App\\Services\\Logger  $logger\n     * @param  array  $filters\n     * @return void\n     */</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">__construct</span><span class=\"token punctuation\">(</span>Logger <span class=\"token variable\">$logger</span><span class=\"token punctuation\">,</span> Filter <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token variable\">$filters</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\">logger</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$logger</span><span class=\"token punctuation\">;</span>\n        <span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\">filters</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$filters</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></span></code></pre>\n    <p>Al usar el enlace contextual, puede resolver esta dependencia proporcionando al <code>give</code>método un cierre que devuelva una matriz de <code>Filter</code>instancias resueltas :</p>\n    <pre class=\" language-php\"><code class=\" language-php\"><span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\">app</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">when</span><span class=\"token punctuation\">(</span>Firewall<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n          <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">needs</span><span class=\"token punctuation\">(</span>Filter<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n          <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">give</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$app</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span>\n                    <span class=\"token variable\">$app</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">make</span><span class=\"token punctuation\">(</span>NullFilter<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token variable\">$app</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">make</span><span class=\"token punctuation\">(</span>ProfanityFilter<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token variable\">$app</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">make</span><span class=\"token punctuation\">(</span>TooLongFilter<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n    <p>Para mayor comodidad, también puede proporcionar una matriz de nombres de clases para que el contenedor los resuelva siempre que <code>Firewall</code>necesite <code>Filter</code>instancias:</p>\n    <pre class=\" language-php\"><code class=\" language-php\"><span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\">app</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">when</span><span class=\"token punctuation\">(</span>Firewall<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n          <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">needs</span><span class=\"token punctuation\">(</span>Filter<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n          <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">give</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n              NullFilter<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span>\n              ProfanityFilter<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span>\n              TooLongFilter<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n    <p></p>\n    <h4 id=\"variadic-tag-dependencies\"><span class=\"link\">Dependencias de etiquetas variables</span></h4>\n    <p>A veces, una clase puede tener una dependencia variada que se insinúa como una clase determinada ( <code>Report ...$reports</code>). Con los métodos <code>needs</code>y <code>giveTagged</code>, puede inyectar fácilmente todos los enlaces de contenedor con esa <span class=\"link\">etiqueta</span> para la dependencia dada:</p>\n    <pre class=\" language-php\"><code class=\" language-php\"><span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\">app</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">when</span><span class=\"token punctuation\">(</span>ReportAggregator<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n    <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">needs</span><span class=\"token punctuation\">(</span>Report<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n    <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">giveTagged</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'reports'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n    <p></p>\n    <h3 id=\"tagging\"><span class=\"link\">Etiquetado</span></h3>\n    <p>De vez en cuando, es posible que deba resolver todos los de una determinada \"categoría\" de vinculación. Por ejemplo, tal vez esté creando un analizador de informes que reciba una serie de muchas <code>Report</code>implementaciones de interfaz diferentes . Después de registrar las <code>Report</code>implementaciones, puede asignarles una etiqueta usando el <code>tag</code>método:</p>\n    <pre class=\" language-php\"><code class=\" language-php\"><span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\">app</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>CpuReport<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\">app</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>MemoryReport<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\">app</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">tag</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>CpuReport<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> MemoryReport<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">'reports'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n    <p>Una vez que se han etiquetado los servicios, puede resolverlos fácilmente a través del <code>tagged</code>método del contenedor :</p>\n    <pre class=\" language-php\"><code class=\" language-php\"><span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\">app</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>ReportAnalyzer<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$app</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ReportAnalyzer</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$app</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">tagged</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'reports'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n    <p></p>\n    <h3 id=\"extending-bindings\"><span class=\"link\">Ampliación de enlaces</span></h3>\n    <p>El <code>extend</code>método permite la modificación de servicios resueltos. Por ejemplo, cuando se resuelve un servicio, puede ejecutar código adicional para decorar o configurar el servicio. El <code>extend</code>método acepta un cierre, que debería devolver el servicio modificado, como único argumento. El cierre recibe el servicio que se está resolviendo y la instancia del contenedor:</p>\n    <pre class=\" language-php\"><code class=\" language-php\"><span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\">app</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span>Service<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$service</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$app</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DecoratedService</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$service</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n    <p></p>\n    <h2 id=\"resolving\"><span class=\"link\">Resolviendo</span></h2>\n    <p></p>\n    <h3 id=\"the-make-method\"><span class=\"link\">El <code>make</code>método</span></h3>\n    <p>Puede usar el <code>make</code>método para resolver una instancia de clase desde el contenedor. El <code>make</code>método acepta el nombre de la clase o interfaz que desea resolver:</p>\n    <pre class=\" language-php\"><code class=\" language-php\"><span class=\"token keyword\">use</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>Services<span class=\"token punctuation\">\\</span>Transistor</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$transistor</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\">app</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">make</span><span class=\"token punctuation\">(</span>Transistor<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n    <p>Si algunas de las dependencias de su clase no se pueden resolver a través del contenedor, puede inyectarlas pasándolas como una matriz asociativa en el <code>makeWith</code>método. Por ejemplo, podemos pasar manualmente el <code>$id</code>argumento del constructor requerido por el <code>Transistor</code>servicio:</p>\n    <pre class=\" language-php\"><code class=\" language-php\"><span class=\"token keyword\">use</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>Services<span class=\"token punctuation\">\\</span>Transistor</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$transistor</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\">app</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">makeWith</span><span class=\"token punctuation\">(</span>Transistor<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'id'</span> <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n    <p>Si está fuera de un proveedor de servicios en una ubicación de su código que no tiene acceso a la <code>$app</code>variable, puede usar la <code>App</code> <span class=\"link\">fachada</span> para resolver una instancia de clase desde el contenedor:</p>\n    <pre class=\" language-php\"><code class=\" language-php\"><span class=\"token keyword\">use</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>Services<span class=\"token punctuation\">\\</span>Transistor</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token package\">Illuminate<span class=\"token punctuation\">\\</span>Support<span class=\"token punctuation\">\\</span>Facades<span class=\"token punctuation\">\\</span>App</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$transistor</span> <span class=\"token operator\">=</span> App<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">make</span><span class=\"token punctuation\">(</span>Transistor<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n    <p>Si desea que la instancia del contenedor de Laravel se inyecte en una clase que está siendo resuelta por el contenedor, puede escribir-insinuar la <code>Illuminate\\Container\\Container</code>clase en el constructor de su clase:</p>\n    <pre class=\" language-php\"><code class=\" language-php\"><span class=\"token keyword\">use</span> <span class=\"token package\">Illuminate<span class=\"token punctuation\">\\</span>Container<span class=\"token punctuation\">\\</span>Container</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/**\n * Create a new class instance.\n *\n * @param  \\Illuminate\\Container\\Container  $container\n * @return void\n */</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">__construct</span><span class=\"token punctuation\">(</span>Container <span class=\"token variable\">$container</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\">container</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$container</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n    <p></p>\n    <h3 id=\"automatic-injection\"><span class=\"link\">Inyeccion automatica</span></h3>\n    <p>Alternativamente, y lo que es más importante, puede indicar la dependencia en el constructor de una clase que el contenedor resuelve, incluidos <span class=\"link\">controladores</span> , <span class=\"link\">detectores de eventos</span> , <span class=\"link\">middleware</span> y más. Además, puede introducir dependencias de sugerencia en el <code>handle</code>método de <span class=\"link\">trabajos en cola</span> . En la práctica, así es como el contenedor debería resolver la mayoría de los objetos.</p>\n    <p>Por ejemplo, puede escribir una sugerencia de un repositorio definido por su aplicación en el constructor de un controlador. El repositorio se resolverá e inyectará automáticamente en la clase:</p>\n    <pre class=\" language-php\"><code class=\" language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n\n<span class=\"token keyword\">namespace</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>Http<span class=\"token punctuation\">\\</span>Controllers</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>Repositories<span class=\"token punctuation\">\\</span>UserRepository</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">UserController</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Controller</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/**\n     * The user repository instance.\n     *\n     * @var \\App\\Repositories\\UserRepository\n     */</span>\n    <span class=\"token keyword\">protected</span> <span class=\"token variable\">$users</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">/**\n     * Create a new controller instance.\n     *\n     * @param  \\App\\Repositories\\UserRepository  $users\n     * @return void\n     */</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">__construct</span><span class=\"token punctuation\">(</span>UserRepository <span class=\"token variable\">$users</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\">users</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$users</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">/**\n     * Show the user with the given ID.\n     *\n     * @param  int  $id\n     * @return \\Illuminate\\Http\\Response\n     */</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">show</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$id</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">//</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></span></code></pre>\n    <p></p>\n    <h2 id=\"method-invocation-and-injection\"><span class=\"link\">Invocación e inyección de métodos</span></h2>\n    <p>A veces, es posible que desee invocar un método en una instancia de objeto mientras permite que el contenedor inyecte automáticamente las dependencias de ese método. Por ejemplo, dada la siguiente clase:</p>\n    <pre class=\" language-php\"><code class=\" language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n\n<span class=\"token keyword\">namespace</span> <span class=\"token package\">App</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>Repositories<span class=\"token punctuation\">\\</span>UserRepository</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">UserReport</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/**\n     * Generate a new user report.\n     *\n     * @param  \\App\\Repositories\\UserRepository  $repository\n     * @return array\n     */</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">generate</span><span class=\"token punctuation\">(</span>UserRepository <span class=\"token variable\">$repository</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// ...</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></span></code></pre>\n    <p>Puede invocar el <code>generate</code>método a través del contenedor de la siguiente manera:</p>\n    <pre class=\" language-php\"><code class=\" language-php\"><span class=\"token keyword\">use</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>UserReport</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token package\">Illuminate<span class=\"token punctuation\">\\</span>Support<span class=\"token punctuation\">\\</span>Facades<span class=\"token punctuation\">\\</span>App</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$report</span> <span class=\"token operator\">=</span> App<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">UserReport</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">'generate'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n    <p>El <code>call</code>método acepta cualquier PHP invocable. El <code>call</code>método del contenedor puede incluso usarse para invocar un cierre mientras se inyectan automáticamente sus dependencias:</p>\n    <pre class=\" language-php\"><code class=\" language-php\"><span class=\"token keyword\">use</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>Repositories<span class=\"token punctuation\">\\</span>UserRepository</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token package\">Illuminate<span class=\"token punctuation\">\\</span>Support<span class=\"token punctuation\">\\</span>Facades<span class=\"token punctuation\">\\</span>App</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$result</span> <span class=\"token operator\">=</span> App<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>UserRepository <span class=\"token variable\">$repository</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n    <p></p>\n    <h2 id=\"container-events\"><span class=\"link\">Eventos de contenedores</span></h2>\n    <p>El contenedor de servicios dispara un evento cada vez que resuelve un objeto. Puede escuchar este evento usando el <code>resolving</code>método:</p>\n    <pre class=\" language-php\"><code class=\" language-php\"><span class=\"token keyword\">use</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>Services<span class=\"token punctuation\">\\</span>Transistor</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\">app</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">resolving</span><span class=\"token punctuation\">(</span>Transistor<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$transistor</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$app</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Called when container resolves objects of type \"Transistor\"...</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\">app</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">resolving</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$object</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$app</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Called when container resolves object of any type...</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n    <p>Como puede ver, el objeto que se está resolviendo se pasará a la devolución de llamada, lo que le permitirá establecer propiedades adicionales en el objeto antes de entregarlo a su consumidor.</p>\n    <p></p>\n    <h2 id=\"psr-11\"><span class=\"link\">PSR-11</span></h2>\n    <p>El contenedor de servicios de Laravel implementa la interfaz <span class=\"link\">PSR-11</span> . Por lo tanto, puede escribir sugerencias en la interfaz del contenedor PSR-11 para obtener una instancia del contenedor Laravel:</p>\n    <pre class=\" language-php\"><code class=\" language-php\"><span class=\"token keyword\">use</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>Services<span class=\"token punctuation\">\\</span>Transistor</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token package\">Psr<span class=\"token punctuation\">\\</span>Container<span class=\"token punctuation\">\\</span>ContainerInterface</span><span class=\"token punctuation\">;</span>\n\nRoute<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'/'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>ContainerInterface <span class=\"token variable\">$container</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token variable\">$service</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$container</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>Transistor<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">//</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n    <p>Se lanza una excepción si el identificador dado no se puede resolver. La excepción será una instancia de <code>Psr\\Container\\NotFoundExceptionInterface</code>si el identificador nunca se vinculó. Si el identificador estaba vinculado pero no se pudo resolver, se <code>Psr\\Container\\ContainerExceptionInterface</code>lanzará una instancia de .</p>\n    \n</div>